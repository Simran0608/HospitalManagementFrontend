{"ast":null,"code":"import _objectSpread from\"C:/Users/simra/Desktop/HospitalManagementSystemProject/hospital/hospital/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/simra/Desktop/HospitalManagementSystemProject/hospital/hospital/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Sidenav from'../SideNav';import Box from'@mui/material/Box';import{TextField,MenuItem,InputLabel,Select}from'@mui/material';import axios from'axios';import swal from'sweetalert';import Divider from'@mui/material/Divider';import IconButton from'@mui/material/IconButton';import SearchIcon from'@mui/icons-material/Search';import Stack from'@mui/material/Stack';import Button from'@mui/material/Button';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ShiftRoom=function ShiftRoom(){var Navigate=useNavigate();var _useState=useState(\" \"),_useState2=_slicedToArray(_useState,2),pid=_useState2[0],setPid=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),click=_useState4[0],setClick=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),room=_useState8[0],setRoom=_useState8[1];var _useState9=useState(' '),_useState10=_slicedToArray(_useState9,2),type=_useState10[0],setType=_useState10[1];var _useState11=useState(' '),_useState12=_slicedToArray(_useState11,2),id=_useState12[0],setId=_useState12[1];useEffect(function(){axios.get('https://localhost:44360/api/Room/').then(function(Data){setRoom(Data.data);});},[]);var handleChange=function handleChange(e){setId(e.target.value);};var value=_objectSpread(_objectSpread({},result),{},{Room_Id:id,Room_Type:type});console.log(type,id,value);var Search=function Search(){var id=parseInt(pid);setClick(true);axios.get(\"https://localhost:44360/api/RoomShift/\".concat(id)).then(function(Data){setResult(Data.data);setType(Data.data.Room_Type);setId(Data.data.Room_Id);}).catch(function(){setResult({});});};var handleSubmit=function handleSubmit(e){e.preventDefault();axios.put(\"https://localhost:44360/api/RoomShift/\".concat(result.Assignment_no),value).then(function(){swal(\"Shifted!\",\"Room has been Shifted\",\"success\").then(function(){Navigate(\"/ViewRoom\");});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Sidenav,{}),/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,p:3,m:10},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shift Patient Room \"}),/*#__PURE__*/_jsx(TextField,{value:pid,id:\"outlined-basic\",name:\"type\",autoComplete:\"off\",label:\"Enter Assignment No.\",variant:\"outlined\",sx:{mb:2},onChange:function onChange(e){setPid(e.target.value);}}),/*#__PURE__*/_jsx(IconButton,{type:\"button\",onClick:Search,sx:{mt:1},\"aria-label\":\"search\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(Divider,{}),JSON.stringify(result)==='{}'&&click&&/*#__PURE__*/_jsx(\"h1\",{children:\"Result Not found\"}),JSON.stringify(result)!=='{}'&&click&&/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,p:3,m:4},children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(Stack,{spacing:2,sx:{width:'50%'},children:[/*#__PURE__*/_jsx(TextField,{disabled:true,value:result.Patient_Name,name:\"type\",autoComplete:\"off\",label:\"Patient Name\",variant:\"outlined\",id:\"outlined-disabled\"}),/*#__PURE__*/_jsx(TextField,{disabled:true,value:result.Doctor_Name,name:\"noOfRoom\",autoComplete:\"off\",label:\"Doctor Name\",variant:\"outlined\",id:\"outlined-disabled\"}),/*#__PURE__*/_jsx(TextField,{disabled:true,value:result.Patient_Condition,name:\"noOfRoom\",autoComplete:\"off\",label:\"Patient Condition\",variant:\"outlined\",id:\"outlined-disabled\"}),/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-standard-label\",children:\"Room Type\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-standard-label\",id:\"demo-simple-select-standard\",label:\"Room Type\",value:id,name:id.toString(),onChange:handleChange,sx:{width:'200px',mb:2},children:room.map(function(data,index){return/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){return setType(data.Room_Type);},value:data.Room_id,children:data.Room_Type},data.Room_id);})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",onClick:handleSubmit,variant:\"contained\",children:\"Shift\"})]})})})]})]})});};export default ShiftRoom;","map":{"version":3,"names":["React","useState","useEffect","Sidenav","Box","TextField","MenuItem","InputLabel","Select","axios","swal","Divider","IconButton","SearchIcon","Stack","Button","useNavigate","ShiftRoom","Navigate","pid","setPid","click","setClick","result","setResult","room","setRoom","type","setType","id","setId","get","then","Data","data","handleChange","e","target","value","Room_Id","Room_Type","console","log","Search","parseInt","catch","handleSubmit","preventDefault","put","Assignment_no","display","flexGrow","p","m","mb","mt","JSON","stringify","width","Patient_Name","Doctor_Name","Patient_Condition","toString","map","index","Room_id"],"sources":["C:/Users/simra/Desktop/HospitalManagementSystemProject/hospital/hospital/react/src/pages/ShiftRoom.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Sidenav from '../SideNav';\r\nimport Box from '@mui/material/Box';\r\nimport { TextField, MenuItem, InputLabel, Select } from '@mui/material';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nconst ShiftRoom = () => {\r\n  const Navigate=useNavigate();\r\n  const [pid, setPid] = useState(\" \");\r\n  const [click, setClick] = useState(false);\r\n  const [result, setResult] = useState({});\r\n  const [room, setRoom] = useState([]);\r\n  const [type, setType] = useState(' ');\r\n  const [id,setId]=useState(' ');\r\n\r\n  useEffect(() => {\r\n    axios.get('https://localhost:44360/api/Room/')\r\n      .then((Data) => {\r\n        setRoom(Data.data);\r\n      })\r\n  }, [])\r\n\r\n  \r\n  const handleChange=(e)=>{\r\n    setId(e.target.value);\r\n  }\r\n  const value={...result,Room_Id:id,Room_Type:type};\r\n\r\n  console.log(type,id,value);\r\n  const Search = () => {\r\n    const id = parseInt(pid);\r\n    setClick(true);\r\n\r\n    axios.get(`https://localhost:44360/api/RoomShift/${id}`)\r\n      .then((Data) => {\r\n        setResult(Data.data);\r\n        setType(Data.data.Room_Type);\r\n        setId(Data.data.Room_Id);\r\n      }).catch(() => {\r\n        setResult({});\r\n      })\r\n}\r\n  const handleSubmit=(e)=>{\r\n       e.preventDefault();\r\n       axios.put(`https://localhost:44360/api/RoomShift/${result.Assignment_no}`,value).then(()=>{\r\n        swal(\"Shifted!\", \"Room has been Shifted\", \"success\").then(()=>{\r\n          Navigate(\"/ViewRoom\");\r\n        })});     \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ display: 'flex' }}>\r\n        <Sidenav />\r\n\r\n        <Box component=\"main\" sx={{ flexGrow: 1, p: 3, m: 10 }}>\r\n          <h1>Shift Patient Room </h1>\r\n          <TextField\r\n            value={pid}\r\n            id=\"outlined-basic\"\r\n            name=\"type\"\r\n            autoComplete='off'\r\n            label=\"Enter Assignment No.\"\r\n            variant=\"outlined\"\r\n            sx={{ mb: 2 }}\r\n            onChange={(e) => { setPid(e.target.value) }}\r\n          />\r\n\r\n          <IconButton type=\"button\" onClick={Search} sx={{ mt: 1 }} aria-label=\"search\">\r\n            <SearchIcon />\r\n          </IconButton>\r\n\r\n          <Divider />\r\n          {JSON.stringify(result) === '{}' && click && <h1>Result Not found</h1>}\r\n          {JSON.stringify(result) !== '{}' && click && <Box component=\"main\" sx={{ flexGrow: 1, p: 3, m: 4 }}>\r\n            <form >\r\n              <Stack spacing={2} sx={{ width: '50%' }}>\r\n\r\n                <TextField\r\n                  disabled\r\n                  value={result.Patient_Name}\r\n                  name=\"type\"\r\n                  autoComplete='off'\r\n                  label=\"Patient Name\"\r\n                  variant=\"outlined\"\r\n                  id=\"outlined-disabled\"\r\n                />\r\n                <TextField\r\n                  disabled\r\n                  value={result.Doctor_Name}\r\n                  name=\"noOfRoom\"\r\n                  autoComplete='off'\r\n                  label=\"Doctor Name\"\r\n                  variant=\"outlined\"\r\n                  id=\"outlined-disabled\"\r\n                />\r\n                <TextField\r\n                  disabled\r\n                  value={result.Patient_Condition}\r\n                  name=\"noOfRoom\"\r\n                  autoComplete='off'\r\n                  label=\"Patient Condition\"\r\n                  variant=\"outlined\"\r\n                  id=\"outlined-disabled\"\r\n                />\r\n                <InputLabel id=\"demo-simple-select-standard-label\">Room Type</InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-standard-label\"\r\n                  id=\"demo-simple-select-standard\"\r\n                  label=\"Room Type\"\r\n                  value={id}\r\n                  name={id.toString()}\r\n                  onChange={handleChange}\r\n                  sx={{ width: '200px', mb: 2 }}\r\n                >\r\n                  {room.map((data, index) => {\r\n                    return (\r\n                      <MenuItem key={data.Room_id} onClick={()=>setType(data.Room_Type)} value={data.Room_id}>{data.Room_Type}</MenuItem>\r\n                    )\r\n                  })}\r\n\r\n                </Select>\r\n                <Button type=\"submit\" onClick={handleSubmit} variant=\"contained\">Shift</Button>\r\n\r\n              </Stack>\r\n            </form>\r\n          </Box>\r\n\r\n          }\r\n\r\n\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ShiftRoom;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}