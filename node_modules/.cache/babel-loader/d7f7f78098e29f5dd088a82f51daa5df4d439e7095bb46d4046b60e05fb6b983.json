{"ast":null,"code":"import _slicedToArray from\"C:/Users/simra/Desktop/HospitalManagementSystemProject/hospital/hospital/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./LandR.css';import RegistrationForm from'./Reg';import{Navigate,useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import axios from'axios';import{toast,ToastContainer}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setID=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var navigate=useNavigate();function handleIDChange(event){setID(event.target.value);}function handlePasswordChange(event){setPassword(event.target.value);}function handleSubmit(event){event.preventDefault();// Validate the form fields\nif(!id){setError('id is required');return;}if(!password){setError('Password is required');return;}axios.get('https://localhost:44360/api/Login',{params:{ID:id,Password:password}}).then(function(response){console.log(response.data);console.log(password);if(response.data.ID==id&&response.data.Password==password){navigate('/dashboard');// Replace '/dashboard' with the path to your dashboard or main page\n}else{setError('Incorrect username or password');}}).catch(function(error){console.log(error);// If user data is not found or the password does not match, display an error message to the user\nsetError('Incorrect username or password');});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:id,placeholder:\"ID\",onChange:handleIDChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,placeholder:\"Password\",onChange:handlePasswordChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:\"Login\"})]})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","RegistrationForm","Navigate","useNavigate","Link","axios","toast","ToastContainer","LoginForm","id","setID","password","setPassword","error","setError","navigate","handleIDChange","event","target","value","handlePasswordChange","handleSubmit","preventDefault","get","params","ID","Password","then","response","console","log","data","catch"],"sources":["C:/Users/simra/Desktop/HospitalManagementSystemProject/hospital/hospital/src/pages/login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './LandR.css';\r\nimport RegistrationForm from './Reg';\r\nimport { Navigate, useNavigate } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\n\r\nconst LoginForm = () => {\r\n\r\n  const [id, setID] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n\r\n  function handleIDChange(event) {\r\n    setID(event.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    // Validate the form fields\r\n    if (!id) {\r\n      setError('id is required');\r\n      return;\r\n    }\r\n\r\n    if (!password) {\r\n      setError('Password is required');\r\n      return;\r\n    }\r\n    axios.get('https://localhost:44360/api/Login', {\r\n      params: {\r\n        ID: id,\r\n        Password: password\r\n      }\r\n    })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        console.log(password);\r\n        if (response.data.ID == id && response.data.Password == password) {\r\n          navigate('/dashboard');\r\n          // Replace '/dashboard' with the path to your dashboard or main page\r\n        } else {\r\n          setError('Incorrect username or password');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // If user data is not found or the password does not match, display an error message to the user\r\n        setError('Incorrect username or password');\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      \r\n        <div className=\"login-form\">\r\n          <h2> Login</h2>\r\n\r\n\r\n          <form onSubmit={handleSubmit} >\r\n\r\n            <label>\r\n              ID:\r\n              <input type=\"text\" value={id} placeholder='ID' onChange={handleIDChange} />\r\n            </label>\r\n            <br />\r\n            <label>\r\n              Password:\r\n              <input type=\"password\" value={password} placeholder=\"Password\" onChange={handlePasswordChange} />\r\n            </label>\r\n            <br />\r\n            <b />{error && <p>{error}</p>}\r\n            <button type=\"submit\" onClick={handleSubmit}>Login</button>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n    \r\n\r\n  );\r\n};\r\nexport default LoginForm;"],"mappings":"8JAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,aAAa,CACpB,MAAOC,iBAAgB,KAAM,OAAO,CACpC,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,cAAc,KAAQ,gBAAgB,CAAC,wFAGvD,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CAEtB,cAAoBR,QAAQ,CAAC,EAAE,CAAC,wCAAzBS,EAAE,eAAEC,KAAK,eAChB,eAAgCV,QAAQ,CAAC,EAAE,CAAC,yCAArCW,QAAQ,eAAEC,WAAW,eAC5B,eAA0BZ,QAAQ,CAAC,EAAE,CAAC,yCAA/Ba,KAAK,eAAEC,QAAQ,eACtB,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAG9B,QAASa,eAAc,CAACC,KAAK,CAAE,CAC7BP,KAAK,CAACO,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASC,qBAAoB,CAACH,KAAK,CAAE,CACnCL,WAAW,CAACK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAEA,QAASE,aAAY,CAACJ,KAAK,CAAE,CAC3BA,KAAK,CAACK,cAAc,EAAE,CAEtB;AACA,GAAI,CAACb,EAAE,CAAE,CACPK,QAAQ,CAAC,gBAAgB,CAAC,CAC1B,OACF,CAEA,GAAI,CAACH,QAAQ,CAAE,CACbG,QAAQ,CAAC,sBAAsB,CAAC,CAChC,OACF,CACAT,KAAK,CAACkB,GAAG,CAAC,mCAAmC,CAAE,CAC7CC,MAAM,CAAE,CACNC,EAAE,CAAEhB,EAAE,CACNiB,QAAQ,CAAEf,QACZ,CACF,CAAC,CAAC,CACCgB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BF,OAAO,CAACC,GAAG,CAACnB,QAAQ,CAAC,CACrB,GAAIiB,QAAQ,CAACG,IAAI,CAACN,EAAE,EAAIhB,EAAE,EAAImB,QAAQ,CAACG,IAAI,CAACL,QAAQ,EAAIf,QAAQ,CAAE,CAChEI,QAAQ,CAAC,YAAY,CAAC,CACtB;AACF,CAAC,IAAM,CACLD,QAAQ,CAAC,gCAAgC,CAAC,CAC5C,CACF,CAAC,CAAC,CACDkB,KAAK,CAAC,SAAAnB,KAAK,CAAI,CACdgB,OAAO,CAACC,GAAG,CAACjB,KAAK,CAAC,CAClB;AACAC,QAAQ,CAAC,gCAAgC,CAAC,CAC5C,CAAC,CAAC,CACN,CAGA,mBACE,YAAK,SAAS,CAAC,YAAY,uBAEvB,aAAK,SAAS,CAAC,YAAY,wBACzB,oBAAI,QAAM,EAAK,cAGf,cAAM,QAAQ,CAAEO,YAAa,wBAE3B,yBAAO,KAEL,4BAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEZ,EAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAEO,cAAe,EAAG,GACrE,cACR,aAAM,cACN,yBAAO,WAEL,4BAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAEL,QAAS,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAES,oBAAqB,EAAG,GAC3F,cACR,aAAM,cACN,YAAK,CAACP,KAAK,eAAI,mBAAIA,KAAK,EAAK,cAC7B,eAAQ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEQ,YAAa,UAAC,OAAK,EAAS,GAEtD,GACH,EACF,CAIZ,CAAC,CACD,cAAeb,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}